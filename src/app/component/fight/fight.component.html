<div class="fight-container">
  <div class="fight-background">
    <img [src]="background" class="fight-bg">
    <img [src]="'assets/monsters/' + monster.image" class="monster">
  </div>

  <h2>æˆ°é¬¥</h2>

<!-- æ•µäººè¡€æ¢ -->
<div class="enemy-status">
  <h4>{{ monster.name }}</h4>

  <div class="health-bar">
    <div class="health-fill"
         [style.width.%]="(monster.hp <= 0 ? 0 : (monster.hp / monster.maxHp) * 100)">
    </div>
  </div>

  <p>{{ monster.hp <= 0 ? 0 : monster.hp }} / {{ monster.maxHp }}</p>
</div>


  <!-- ä¸»è§’è¡€æ¢ & é­”åŠ›æ¢ -->
  <div class="player-status">
    <h4>{{ character.name }}</h4>

    <div class="health-bar">
      <div class="health-fill" style="background-color: #4CAF50;" [style.width.%]="(character.hp / character.maxHp) * 100"></div>
    </div>
    <p>HP: {{ character.hp }} / {{ character.maxHp }}</p>

    <div class="mana-bar">
      <div class="mana-fill" [style.width.%]="(character.mana / character.maxMana) * 100"></div>
    </div>
    <p>MP: {{ character.mana }} / {{ character.maxMana }}</p>
  </div>

  <!-- âš”ï¸ é–‹å§‹æˆ°é¬¥æŒ‰éˆ•ï¼ˆåƒ…åˆæ¬¡é€²å…¥é¡¯ç¤ºï¼‰ -->
  <div *ngIf="!isFighting && !isDead && battleLog.length === 0">
    <button class="btn btn-primary btn-block" (click)="startBattle()">é–‹å§‹æˆ°é¬¥</button>
  </div>

  <!-- âš”ï¸ æˆ°é¬¥é€²è¡Œä¸­ -->
  <div *ngIf="isFighting && !isDead">
    <button class="btn btn-danger btn-block" (click)="attack()">æ™®é€šæ”»æ“Š</button>
  </div>

  <!-- é¸æ“‡æŠ€èƒ½æŒ‰éˆ• -->
<div *ngIf="isFighting && !isDead">
  <div class="skill-list">
    <button *ngFor="let skill of character.skills"
            class="btn btn-info btn-sm"
            [disabled]="character.mana < skill.mpCost"
            (click)="useSkill(skill)">
      {{ skill.name }} (MP: {{ skill.mpCost }})
    </button>
  </div>
</div>

  <!-- ğŸ† å‹åˆ©å¾Œï¼Œé¡¯ç¤ºã€Œä¸‹ä¸€å ´æˆ°é¬¥ã€ -->
  <div *ngIf="!isFighting && !isDead && battleLog.length > 0">
    <p>æˆ°é¬¥çµæŸï¼Œä½ ç²å‹äº†ï¼</p>
    <button class="btn btn-primary btn-block" (click)="startNewBattle()">ä¸‹ä¸€å ´æˆ°é¬¥</button>
  </div>

  <!-- ğŸ’€ è§’è‰²æ­»äº¡ -->
  <div *ngIf="isDead">
    <p>ä½ è¢«æ‰“æ•—äº†...</p>
    <button class="btn btn-success btn-block" (click)="revive()">å¾©æ´»</button>
  </div>

  <!-- ğŸ“ æˆ°é¬¥ç´€éŒ„ -->
  <div class="battle-log">
    <h3>æˆ°é¬¥ç´€éŒ„</h3>
    <ul>
      <li *ngFor="let log of battleLog">{{ log }}</li>
    </ul>
  </div>
</div>
